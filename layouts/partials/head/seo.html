{{/* layouts/partials/head/seo.html */}}
{{- $pageTitle := .Title -}}
{{- $siteTitle := or .Site.Title .Site.Params.title .Site.Params.shortSiteName -}}

{{- $isHome := .IsHome -}}
{{- $homeTitle := printf "%s â€“ %s" $siteTitle (.Site.Params.description | default "") -}}

{{- $fullTitle := "" -}}
{{- if $isHome -}}
{{- $fullTitle = $homeTitle -}}
{{- else if and (ne $pageTitle "") (ne $pageTitle $siteTitle) -}}
{{- $fullTitle = printf "%s | %s" $pageTitle $siteTitle -}}
{{- else -}}
{{- $fullTitle = $siteTitle -}}
{{- end -}}

<title>{{ $fullTitle }}</title>

{{- $desc := .Params.description | default .Summary | default .Site.Params.description -}}
{{- if $desc }}
<meta name="description" content="{{ $desc | plainify | htmlEscape }}">
{{- end }}

{{- $robots := "index,follow" -}}
{{- if .Params.noindex -}}
{{- $robots = "noindex,nofollow" -}}
{{- end -}}
{{- if .Params.nocache -}}
{{- $robots = printf "%s,%s" $robots "noarchive" -}}
{{- end -}}
<meta name="robots" content="{{ $robots }}">

{{- $canonical := .Permalink -}}
<link rel="canonical" href="{{ $canonical }}">

<link rel="icon" type="image/png" href="/site/icon/favicon16x16.png" sizes="16x16" />
<link rel="icon" type="image/png" href="/site/icon/favicon32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/site/icon/favicon96x96.png" sizes="96x96" />
<link rel="shortcut icon" href="/site/icon/favicon196x196.png" sizes="196x196" />
<link rel="apple-touch-icon" sizes="72x72" href="/site/icon/touch-ipad.png" />
<link rel="apple-touch-icon" sizes="114x114" href="/site/icon/touch-iphone.png" />
<link rel="apple-touch-icon" sizes="152x152" href="/site/icon/touch-ipad-ret.png" />

<meta property="og:locale" content="nl_BE">
<meta property="og:type" content="website">
<meta property="og:title" content="{{ $fullTitle }}">
{{- if $desc }}<meta property="og:description" content="{{ $desc | plainify | htmlEscape }}">{{- end }}
<meta property="og:url" content="{{ $canonical }}">
<meta property="og:site_name" content="{{ $siteTitle }}">

{{/* Optional: default OG image */}}
{{- with .Site.Params.ogImage }}
<meta property="og:image" content="{{ . | absURL }}">
{{- end }}

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ $fullTitle }}">
{{- if $desc }}<meta name="twitter:description" content="{{ $desc | plainify | htmlEscape }}">{{- end }}
{{- with .Site.Params.ogImage }}
<meta name="twitter:image" content="{{ . | absURL }}">
{{- end }}

{{ $address := .Site.Data.contact.address }}
{{ $btw := .Site.Data.contact.btw }}

<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "HomeAndConstructionBusiness",
        "name": "{{ .Site.Params.shortSiteName }}",
        "url": "{{ "/" | absURL }}",
        "description": "{{ .Site.Params.description | plainify | htmlEscape }}",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "{{ $address.street }}",
            "postalCode": "{{ $address.postalCode }}",
            "addressLocality": "{{ $address.city }}",
            "addressCountry": "{{ $address.country }}"
        },
        "vatID": "{{ $btw.name }}",
        "sameAs": [
            {{- $first := true -}}
            {{- range sort .Site.Data.socials "weight" -}}
            {{- if .schema -}}
            {{- if not $first }},{{ end -}}
            {{- $first = false -}}
            "{{ .url }}"
            {{- end -}}
            {{- end -}}
        ]
    }
</script>
